# 備品管理システム 基本設計書

| ドキュメントバージョン | 1.0                                    |
| :------------------- | :------------------------------------- |
| 作成日               | 2025年O月O日                           |
| 作成チーム           | neko(Dチーム)                               |
| 承認者               | 井上真美様                              |
| 更新履歴             | 2025/O/O: Ver.1.0 初版作成 (neko) |

---

## 1. はじめに

### 1.1. 本書の目的

### 1.2. プロジェクト概要

### 1.3. 前提知識



## 2. システム概要

### 2.1. システムの目的

### 2.2. 対象ユーザー

### 2.3. システム構成図

### 2.4. 外部インターフェース概要



## 3. 機能設計

### 3.1. 機能一覧

- **認証・会員機能**
    - ログイン/ログアウト機能（セッション管理含む）
    - 会員登録機能（氏名・住所・ID・パスワード登録）
    - マイページ機能（登録情報編集・購入履歴表示）
    - パスワード再発行機能（メール送信）

- **商品閲覧・検索機能（顧客向け）**
    - トップページ表示機能（特集・カテゴリなどの案内表示）
    - 商品一覧表示機能（カテゴリ別・登録順表示）
    - 商品詳細表示機能（画像、説明、価格、仕様など）
    - 商品カテゴリフィルタ機能
    - キーワード検索機能（部分一致対応）

- **カート・注文機能**
    - カート追加機能（在庫チェック・セッション保持）
    - カート内容表示・編集機能（数量変更・削除対応）
    - 注文確認機能（配送先・支払方法の入力、確認表示）
    - 注文確定機能（注文情報登録、受付完了メール送信）
    - 注文受付メール送信機能（サーバーサイド処理）

- **管理者機能（バックオフィス）**
    - 商品管理機能（一覧表示・検索、登録・編集・削除、画像対応）
    - 注文管理機能（注文内容・日付・顧客の確認、発送状況確認）
    - 顧客管理機能（会員情報・履歴の検索・参照・編集）
    - 在庫ステータス管理機能（在庫あり／なしの更新）

- **セキュリティ・管理機能（バックオフィス）**
    - アクセス制限制御（一般ユーザー・管理者の機能分離）
    - セッションタイムアウト処理
    - URL直打ち制限

- **共通・システム機能**
    - 通知機能の拡充（発送完了メール、パスワード変更通知などの重要通知）
    - レスポンシブデザイン対応（- PC／スマホ／タブレットで最適化されたUI表示）
    - エラーハンドリング機能（入力エラー・システムエラー時のユーザーフレンドリーな表示）
    - データバックアップ・リカバリ機能（定期バックアップ、自動復旧計画）

### 3.2. 機能構成図

<div class="mermaid">
graph TD
    A[ECサイト] --> B(商品閲覧・検索機能)
    A --> C(会員機能)
    A --> D(カート・注文機能)
    A --> E(ゲスト購入機能)
    A --> F(管理者機能)
    A --> G(セキュリティ・管理機能)
    A --> H(認証機能)


    subgraph B[商品閲覧・検索機能]
        B1[トップページ表示]
        B2[商品一覧表示]
        B3[商品詳細表示]
        B4[商品カテゴリフィルタ]
        B5[キーワード検索]
    end

    subgraph C[会員機能]
        C1[会員登録]
        C2[マイページ]
        C3[パスワード再発行]
    end

    subgraph D[カート・注文機能]
        D1[カート追加]
        D2[カート内容表示・編集]
        D3[注文確認]
        D4[注文確定]
        D5[注文受付メール送信]
    end

    subgraph E[ゲスト購入機能]
        E1[カート追加・注文処理]
        E2[配送先・決済情報入力]
        E3[注文確認・確定]
        E4[注文受付メール送信]
    end

    subgraph F[管理者機能]
        F1[商品管理]
        F2[注文管理]
        F3[顧客管理]
        F4[在庫ステータス管理]
    end

    subgraph G[セキュリティ・管理機能]
        G1[アクセス制限制御]
        G2[セッションタイムアウト]
        G3[URL直打ち制限]
    end

    H -- ログイン後 --> D
    B -- ログイン --> H
    B -- ログイン後 --> G
    B -- ゲスト利用 --> E
    H -- 管理者ログイン後 --> F
    H -- ログイン後 --> C

    style A fill:#f9f,stroke:#333,stroke-width:2px
</div>

### 3.3. 主要機能フロー

システムで行われる代表的な業務フローを示す。

#### 3.3.1. ゲスト購入フロー

<div class="mermaid"> 
sequenceDiagram
    顧客 ->> フロント: 商品一覧・詳細を閲覧
    顧客 ->> フロント: 商品をカートに追加
    フロント ->> サーバー: 在庫確認・カート情報保持
    サーバー ->> DB: 在庫情報取得
    DB -->> サーバー: 在庫OK
    サーバー -->> フロント: カート追加成功

    顧客 ->> フロント: 注文手続きへ進む
    フロント ->> 顧客: 住所・支払い方法を入力
    顧客 ->> フロント: 情報送信
    フロント ->> サーバー: 注文情報登録要求
    サーバー ->> DB: 注文情報・在庫数を登録/更新
    DB -->> サーバー: 登録成功
    サーバー -->> フロント: 注文完了画面表示
    サーバー ->> メール: 注文完了メール送信
    メール ->> 顧客: 注文完了メール受信

</div>

- ゲストユーザーは会員登録をせずに商品をカートに追加・注文できる。

- 注文時に配送先・支払い方法を入力し、購入手続きを完了させる。

- システムは注文情報を記録し、完了メールを送信する。

#### 3.3.2. 管理者の商品登録フロー

<div class="mermaid"> 
sequenceDiagram 
管理者 ->> 管理画面: 商品登録画面にアクセス
管理画面 ->> サーバー: 商品登録リクエスト（画像・説明・価格）
サーバー ->> DB: 商品情報登録
DB -->> サーバー: 登録完了
サーバー -->> 管理画面: 登録完了メッセージ表示
</div>

- 管理者は管理画面から商品を新規登録できる。

- 商品画像や説明、価格情報を含む情報がサーバーを経由してデータベースに登録される。

- 登録成功後、管理画面に完了メッセージが表示される。


## 4. 画面設計

### 4.1. 画面一覧

### 4.2. 画面遷移図

### 4.3. UI/UX基本方針

### 4.4. 主要画面のワイヤーフレーム

#### 4.4.1. 備品一覧画面ワイヤーフレーム

#### 4.4.2. 入庫・出庫画面ワイヤーフレーム

### 4.5. 主要画面項目定義（例：備品一覧画面）



## 5. データ設計

### 5.1. 概念データモデル（ER図）

### 5.2. 主要テーブル概要

### 5.3. データフロー概要



## 6. 非機能要件 対応方針

### 6.1. 性能

### 6.2. セキュリティ

### 6.3. 可用性

### 6.4. その他（保守性、運用性、拡張性など）



## 7. 運用・保守設計の概要

### 7.1. ログ設計方針

### 7.2. 監視設計方針

### 7.3. バックアップ・リカバリ方針



## 8. 制約事項・前提条件

### 8.1. 使用技術スタック

### 8.2. インフラ環境

### 8.3. 開発・運用ルール

### 8.4. スコープ外

### 8.5. その他前提条件



## 9. （付録）用語集・略語リスト



## 10. 承認

