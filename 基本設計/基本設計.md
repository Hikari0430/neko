# 備品管理システム 基本設計書
 
| ドキュメントバージョン | 1.0                                    |
| :------------------- | :------------------------------------- |
| 作成日               | 2025年7月2日                           |
| 作成チーム           | neko(Dチーム)                               |
| 承認者               | 井上真美様                              |
| 更新履歴             | 2025/7/2: Ver.1.0 初版作成 (neko) |
 
---
 
## 1. はじめに
 
### 1.1. 本書の目的
本書は、株式会社〇〇より受託した「ECサイト構築プロジェクト」における基本設計の内容を定義するものである。本プロジェクトの要件定義書で定められた要件に基づき、システムの全体構成、主要機能、画面、データ構造、非機能要件への対応方針を明確化し、弊社が実施する詳細設計、実装、テスト工程のインプットとすることを目的とする。
 
### 1.2. プロジェクト概要
本プロジェクトは、株式会社〇〇が販売する商品をオンラインでユーザーに販売可能とするECサイトを新規構築し、顧客の購買体験向上、販売機会の拡大、受注から出荷までの業務効率化を実現することを目的とする。スマートフォン、PCブラウザから商品検索、カート投入、注文、マイページでの購入履歴確認を可能とし、管理者が商品・注文・ユーザー情報を管理できる仕組みを提供する。
 
### 1.3. 前提知識
本書を読むにあたり、以下の知識を有していることを前提とする。
 
-本プロジェクトの要件定義書の内容
 
-Webアプリケーション開発の基本的な知識（HTTP, HTML, CSS, JavaScript）
 
-ECサイト運営における基本的な業務知識（商品管理、受注管理、在庫管理）
 
-REST API の基本的な概念
 
-Java および Spring Boot フレームワークの基本的な知識
 
-リレーショナルデータベースの基本的な知識
 
## 2. システム概要
 
### 2.1. システムの目的
-オンラインでの商品販売において受注管理、在庫管理、決済処理、顧客対応などの業務負荷を軽減するとともに、
購入ユーザーがWebブラウザから商品検索、購入、決済を安全かつ簡便に行える環境を提供し、販売機会の拡大と管理業務の効率化を実現することを目的とする。
 
### 2.2. 対象ユーザー
-**一般顧客:** 商品を検索・購入・決済する顧客
 
-**店舗管理者:** 商品情報、在庫情報、受注情報、顧客情報の管理および売上管理を行う
 
### 2.3. システム構成図
 
<div class="mermaid">
 
graph LR
    subgraph ユーザー環境
        A[PC/スマートフォン<br>（ブラウザ: Chrome/Edge/Safari）]
    end
 
    subgraph インターネット
    end
 
    subgraph クラウド環境
        subgraph Web/APサーバー
           B[ECサイトシステム<br>（Web/APサーバー）]
        end
        subgraph DBサーバー
            C[データベースサーバー]
        end
        subgraph メールサービス
            D[メール送信サービス]
        end
 
        B --> C
        B --> D
    end
 
    A -- HTTPS --> B
 
</div>
 
-クライアント: 購入ユーザーおよび管理者が利用するPC/スマートフォンのブラウザ（Chrome）
 
-サーバー: クラウド環境に構築し、Web/APサーバーおよびDBサーバーで構成
 
-メールサービス: 注文受付・出荷完了通知等の自動メール送信を実施
 
-ネットワーク: インターネット経由でHTTPS通信を行う
 
### 2.4. 外部インターフェース概要
**メール送信サービス:**
-メールサービスと連携し、注文受付通知、発送通知、パスワード再設定通知などの自動送信を行う。
 
**CSVファイル（オプション）:**
-商品情報の一括登録、在庫情報の一括更新等でCSVファイルのアップロード・取込機能を提供する場合がある。
 
-（将来的に他システム（会計ソフト等）とのAPI連携が必要な場合は別途定義する）
 


## 3. 機能設計

### 3.1. 機能一覧

### 3.2. 機能構成図

### 3.3. 主要機能フロー

#### 3.3.1. 在庫不足フロー

#### 3.3.2. 廃棄処理フロー



## 4. 画面設計

### 4.1. 画面一覧

### 4.2. 画面遷移図

### 4.3. UI/UX基本方針

### 4.4. 主要画面のワイヤーフレーム

#### 4.4.1. 備品一覧画面ワイヤーフレーム

#### 4.4.2. 入庫・出庫画面ワイヤーフレーム

### 4.5. 主要画面項目定義（例：備品一覧画面）



## 5. データ設計

### 5.1. 概念データモデル（ER図）

### 5.2. 主要テーブル概要
- **USERS (ユーザーテーブル)**
    - 会員登録したユーザーの情報を管理。
    - ログインID・パスワード、氏名・メールアドレスなどを保持。
    - パスワードはハッシュ化し保存。
    - 複数の住所情報を ADDRESSES として持つ。

- **ROLES (ロールマスタ)**
    - 「一般会員」「管理者」など、ユーザー権限を定義。
    - システムのアクセス制御に使用。

- **PRODUCTS（商品マスタ）**
    - 商品情報（名前、説明、価格、カテゴリ、画像など）を管理。
    - 商品の表示／非表示を active_flag で制御。
    - 一商品につき複数の注文明細（ORDER_ITEMS）に紐づく。

- **CATEGORIES（カテゴリマスタ）**
    - 商品を分類するためのカテゴリ情報。
    - 商品検索やフィルタリングに利用。

- **ORDERS（注文テーブル）**
    - ユーザーが購入した注文情報。
    - 誰が、いつ、どこへ、何を購入したかを記録。
    - 支払方法やステータス、合計金額も保持。

- **ORDER_ITEMS（注文明細テーブル）**
    - 注文の中に含まれる商品ごとの明細情報。
    - 商品ID・数量・単価・小計などを記録。

- **ADDRESSES（住所テーブル）**
    - ユーザーが登録する配送先住所情報。
    - ユーザー1人に複数登録可。is_default により既定住所を設定。

### 5.3. データフロー概要
1.  **画面（注文確認）**
    - ユーザーがカート画面から配送先・支払方法を確認し「注文確定」ボタンを押下。

2.  **アプリケーション（Backend）**
    - ユーザーのカート情報（セッション管理）を取得。
    - 合計金額を計算。
    - ORDERS テーブルに注文を登録。
    - ORDER_ITEMS テーブルに商品ごとの明細を登録。
    - ADDRESSES テーブルに新しい配送先があれば登録。

3.  **データベース（DB）**
    - ORDERS に注文情報をINSERT。
    - ORDER_ITEMS に明細を一括INSERT。
    - 必要に応じて ADDRESSES にINSERT。
    - 注文完了メールをユーザーへ送信。

4.  **確認画面**
    - 注文完了画面に遷移。注文番号と完了メッセージを表示。


## 6. 非機能要件 対応方針

### 6.1. 性能

### 6.2. セキュリティ

### 6.3. 可用性

### 6.4. その他（保守性、運用性、拡張性など）



## 7. 運用・保守設計の概要

### 7.1. ログ設計方針

### 7.2. 監視設計方針

### 7.3. バックアップ・リカバリ方針



## 8. 制約事項・前提条件

### 8.1. 使用技術スタック

### 8.2. インフラ環境

### 8.3. 開発・運用ルール

### 8.4. スコープ外

### 8.5. その他前提条件



## 9. （付録）用語集・略語リスト



## 10. 承認

